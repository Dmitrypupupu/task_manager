# Система Управления Заметками

Консольное приложение на языке C++ для управления персональными текстовыми заметками с возможностью их создания, поиска, фильтрации и просмотра.

## Описание проекта

Система управления заметками предоставляет пользователю возможность создания, хранения, поиска и управления текстовыми заметками через консольный интерфейс. Каждая заметка сохраняется в виде отдельного текстового файла, а метаданные хранятся в структурированном виде для эффективного доступа.

## Функциональные возможности

- ✅ **Создание заметок** - добавление новых заметок с указанием названия, темы и текста
- ✅ **Просмотр списка** - отображение всех заметок в табличном формате
- ✅ **Поиск по теме** - фильтрация заметок по категориям
- ✅ **Открытие заметки** - просмотр полного содержимого выбранной заметки
- ✅ **Удаление заметок** - удаление ненужных заметок с подтверждением
- ✅ **Сохранение данных** - автоматическое сохранение между сеансами работы

## Структура данных

### Структура Note

Каждая заметка содержит следующие атрибуты:

```cpp
struct Note {
    int id;                      // Уникальный идентификатор
    std::string title;           // Название (1-100 символов)
    std::string category;        // Тема/категория (1-50 символов)
    std::string content;         // Текст заметки (до 10000 символов)
    std::string creationDate;    // Дата создания (ГГГГ-ММ-ДД)
    std::string filePath;        // Путь к файлу заметки
};
```

### Хранение данных

Вместо `std::vector` используется **статический массив** фиксированного размера:

```cpp
Note notes[MAX_NOTES];  // Массив на 1000 заметок
```

Метаданные сохраняются в файле `notes_metadata.dat` в формате:
```
id|название|тема|дата_создания|путь_к_файлу
```

Содержимое каждой заметки хранится в отдельном текстовом файле в директории `notes/`:
```
notes/1_название_заметки.txt
```

## Требования

- **Язык**: C++17
- **Компилятор**: GCC / MSVC
- **ОС**: Windows 10/11, Linux
- **Память**: Не менее 512 МБ
- **Место на диске**: Не менее 10 МБ

## Сборка и установка

### Компиляция

```bash
make
```

или

```bash
g++ -std=c++17 -Wall -Wextra -O2 -o task_manager main.cpp note.cpp validation.cpp ui.cpp
```

### Запуск

```bash
./task_manager
```

или через Makefile:

```bash
make run
```

### Очистка

```bash
make clean      # Полная очистка (удаляет программу и данные)
make clean-obj  # Удаляет только объектные файлы
```

## Использование

### Главное меню

```
=== СИСТЕМА УПРАВЛЕНИЯ ЗАМЕТКАМИ ===
1. Создать новую заметку
2. Показать все заметки
3. Поиск по теме
4. Открыть заметку
5. Удалить заметку
6. Выход
```

### Примеры использования

#### Создание заметки

1. Выберите пункт **1**
2. Введите название заметки (например, "Список покупок")
3. Введите тему (например, "Быт")
4. Введите текст заметки
5. Заметка будет автоматически сохранена

#### Просмотр всех заметок

Выберите пункт **2** для отображения таблицы со всеми заметками:

```
=== СПИСОК ЗАМЕТОК ===
№  | Название                | Тема           | Дата создания
---+------------------------+----------------+--------------
1  | Список покупок         | Быт            | 2024-01-15
2  | Идеи для проекта       | Работа         | 2024-01-16
```

#### Поиск по теме

1. Выберите пункт **3**
2. Введите название темы (например, "Работа")
3. Отобразятся все заметки с указанной темой

#### Открытие заметки

1. Выберите пункт **4**
2. Введите ID заметки
3. Отобразится полное содержимое заметки

#### Удаление заметки

1. Выберите пункт **5**
2. Введите ID заметки
3. Подтвердите удаление

## Архитектура проекта

```
task_manager/
├── main.cpp              # Точка входа программы
├── note.h                # Структура Note и класс NoteManager
├── note.cpp              # Реализация управления заметками
├── validation.h          # Функции валидации данных
├── validation.cpp        # Реализация валидации
├── ui.h                  # Класс пользовательского интерфейса
├── ui.cpp                # Реализация UI
├── Makefile              # Файл сборки проекта
├── README.md             # Документация
├── notes/                # Директория с файлами заметок (создается автоматически)
└── notes_metadata.dat    # Файл метаданных (создается автоматически)
```

## Основные модули

### 1. NoteManager (note.h, note.cpp)

Класс для управления коллекцией заметок:
- `addNote()` - добавление новой заметки
- `deleteNote()` - удаление заметки по ID
- `displayAllNotes()` - вывод списка всех заметок
- `displayNote()` - отображение конкретной заметки
- `searchByCategory()` - поиск заметок по теме
- `loadFromFile()` - загрузка данных из файла
- `saveToFile()` - сохранение данных в файл

### 2. Validation (validation.h, validation.cpp)

Функции валидации пользовательского ввода:
- `validateNoteTitle()` - проверка названия (1-100 символов)
- `validateNoteCategory()` - проверка темы (1-50 символов)
- `validateNoteContent()` - проверка текста (до 10000 символов)
- `getCurrentDate()` - получение текущей даты
- `confirmAction()` - запрос подтверждения

### 3. UI (ui.h, ui.cpp)

Пользовательский интерфейс:
- `run()` - главный цикл программы
- `displayMainMenu()` - отображение меню
- `handleCreateNote()` - обработка создания заметки
- `handleShowAllNotes()` - обработка просмотра списка
- `handleSearchByCategory()` - обработка поиска
- `handleOpenNote()` - обработка открытия заметки
- `handleDeleteNote()` - обработка удаления

## Особенности реализации

### Использование массива вместо вектора

В соответствии с требованиями проекта, для хранения заметок используется статический массив:

```cpp
Note notes[MAX_NOTES];  // Массив вместо std::vector<Note>
int noteCount;          // Счетчик заметок
```

Преимущества такого подхода:
- Простота реализации
- Фиксированный размер в памяти
- Быстрый доступ по индексу O(1)

### Обработка ошибок

Программа обрабатывает следующие ситуации:
- Некорректный ввод пользователя
- Превышение максимального количества заметок (1000)
- Дублирование названий
- Ошибки доступа к файлам
- Повреждение данных

### Валидация данных

Все пользовательские данные проходят валидацию:
- **Название**: 1-100 символов, не только пробелы
- **Тема**: 1-50 символов, не только пробелы
- **Текст**: 1-10000 символов
- **Пункт меню**: 1-6

### Файловая система

- Метаданные хранятся в `notes_metadata.dat`
- Текстовые файлы заметок в директории `notes/`
- Кодировка: UTF-8
- Разделитель полей в метаданных: `|`

## Ограничения

- Максимальное количество заметок: **1000** (константа `MAX_NOTES`)
- Максимальная длина названия: **100 символов**
- Максимальная длина темы: **50 символов**
- Максимальная длина текста: **10000 символов**
- Названия заметок должны быть уникальными

## Конвенции именования

- **Переменные**: `snake_case` (например, `note_title`)
- **Функции**: `camelCase` (например, `createNewNote`)
- **Классы/Структуры**: `PascalCase` (например, `NoteManager`)
- **Константы**: `UPPER_CASE` (например, `MAX_NOTES`)

## Стиль кода

- Отступы: **4 пробела**
- Фигурные скобки: на отдельной строке
- Максимальная длина строки: 80 символов
- Подробные комментарии для сложных блоков

## Безопасность

- Валидация всех пользовательских вводов
- Проверка путей к файлам
- Ограничение размеров данных
- Обработка исключений при работе с файлами

## Кроссплатформенность

Код написан с учетом работы на разных платформах:
- Использование стандартной библиотеки C++ (STL)
- Условная компиляция для Windows/Linux
- Относительные пути к файлам
- Поддержка UTF-8

## Лицензия

Проект разработан в учебных целях.

## Автор

Студенческий проект в рамках курса по программированию на C++.
